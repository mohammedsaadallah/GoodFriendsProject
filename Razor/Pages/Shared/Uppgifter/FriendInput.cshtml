@page
@model Razor.Pages.Shared.Uppgifter.FriendInputModel
@{
}
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@attribute [IgnoreAntiforgeryToken]

<div class="container px-4 py-4" id="add-edit-friend">
    <h2 class="pb-2 border-bottom">Add or edit a friend's details</h2>
    <p>Fill in the details below to add a friend. Once you have added your friend you can edit the details of your fiend such as favorite quotes and pets.</p>

    <div class="row row-cols-1 row-cols-lg-4 align-items-stretch g-4 py-5">
        <div class="col-md-7 col-lg-8">
            <form class="needs-validation" method="post" novalidate>

                <input asp-for="FriendIM.FriendId" value="@Model.FriendIM.FriendId" type="hidden" />
                <input asp-for="FriendIM.StatusIM" value="@Model.FriendIM.StatusIM" type="hidden" />
                <input asp-for="FriendIM.AddressId" value="@Model.FriendIM.AddressId" type="hidden" />


                @if (Model.FriendIM.Pets != null || Model.FriendIM.Quotes != null)
                {
                    @foreach (var item in Model.FriendIM.Pets)
                    {
                        <input asp-for="FriendIM.Pets" value="@item" type="hidden" />
                    }

                    @foreach (var item in Model.FriendIM.Quotes)
                    {
                        <input asp-for="FriendIM.Quotes" value="@item" type="hidden" />
                    }
                }

                <div class="row g-3">
                    <div class="col-sm-6">
                        <label for="firstName" class="form-label">First name</label>
                        <input type="text" class="form-control" asp-for="@Model.FriendIM.FirstName" id="firstName" placeholder="" value="@Model.FriendIM.FirstName" required>
                        <div class="invalid-feedback">
                            Valid first name is required
                        </div>
                    </div>

                    <div class="col-sm-6">
                        <label for="lastName" class="form-label">Last name</label>
                        <input type="text" class="form-control" id="lastName" asp-for="@Model.FriendIM.LastName" placeholder="" value="@Model.FriendIM.LastName" required>
                        <div class="invalid-feedback">
                            Valid last name is required
                        </div>
                    </div>

                    <div class="col-sm-6">
                        <label for="email" class="form-label">Email <span class="text-body-secondary">(Optional)</span></label>
                        <input type="email" class="form-control" id="email" asp-for="@Model.FriendIM.Email" value="@Model.FriendIM.Email">
                        <div class="invalid-feedback">
                            Please enter a valid email address
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <label for="birthday" class="form-label">Birthday <span class="text-body-secondary">(Optional)</span></label>
                        <input type="Birthday" class="form-control" id="birthday" asp-for="@Model.FriendIM.Birthday" value="@Model.FriendIM.Birthday">
                        <div class="invalid-feedback">
                            Please enter a valid birthday
                        </div>
                    </div>

                    <div class="col-sm-6">
                        <label class="form-check-label" for="userHasAddress"></label>
                        <input class="form-check-input" type="checkbox" value="" id="userHasAddress">
                        I know the address
                    </div>

                    <div class="row g-3 visible">
                        <div class="col-12">
                            <label for="address" class="form-label">Address</label>
                            <input type="text" class="form-control" id="address" asp-for="@Model.FriendIM.StreetAddress" value="@Model.FriendIM.StreetAddress" required>
                            <div class="invalid-feedback">
                                Please enter a street address
                            </div>
                        </div>

                        <div class="col-md-3">
                            <label for="zip" class="form-label">Zip</label>
                            <input type="text" class="form-control" id="zip" asp-for="@Model.FriendIM.ZipCode" value="@Model.FriendIM.ZipCode" required>
                            <div class="invalid-feedback">
                                Please enter a zip code
                            </div>
                        </div>

                        <div class="col-md-4">
                            <label for="city" class="form-label">City</label>
                            <input type="text" class="form-control" id="city" asp-for="@Model.FriendIM.City" value="@Model.FriendIM.City" required>
                            <div class="invalid-feedback">
                                Please enter a city
                            </div>
                        </div>

                        <div class="col-md-5">
                            <label for="country" class="form-label">Country</label>
                            <input type="text" class="form-control" id="country" asp-for="@Model.FriendIM.Country" value="@Model.FriendIM.Country" required>
                            <div class="invalid-feedback">
                                Please enter a country
                            </div>
                        </div>
                    </div>
                </div>

                <button class="w-100 btn btn-primary btn-lg my-4" asp-page-handler="Save" type="submit">Save</button>
            </form>
        </div>
    </div>
</div>