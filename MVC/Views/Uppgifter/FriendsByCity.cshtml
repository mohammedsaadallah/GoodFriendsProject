@model FriendsByCityVwM
@{
}
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@attribute [IgnoreAntiforgeryToken]
<div class="container px-4 py-4" id="friends-in-a-country">
    <h2 class="pb-2 border-bottom">Friends in @Model.currentCountry</h2>
    <p>Click in on a city below to see my friends living in that city.</p>

    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-5 g-4 py-5">

        @for (int i = 0; i < Model.distinctCities.Count; i++)
        {
            <div class="col d-flex align-items-start">
                <svg class="bi text-body-secondary flex-shrink-0 me-3" width="1.75em" height="1.75em"><use xlink:href="#backpack" /></svg>
                <div>
                    <h3 class="fw-bold mb-0 fs-4 text-body-emphasis">@Model.distinctCities[i].City</h3>
                    <p>
                        @Model.infoAllDtos.Friends.Where(x => x.City == @Model.distinctCities[i].City).Select(x => x.NrFriends).Sum() friends and
                        @Model.infoAllDtos.Pets.Where(x => x.City == @Model.distinctCities[i].City).Select(x => x.NrPets).Sum() pets.
                    </p>
                    <a asp-controller="Uppgifter" asp-action="ListOfFriends" asp-route-id="@Model.distinctCities[i].City" class="btn btn-primary">
             
                        See friends
                    </a>
                </div>
            </div>
        }
    </div>
</div>